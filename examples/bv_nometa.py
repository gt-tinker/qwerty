from qwerty import *

@qpu
def kernel() -> bit[3]:
    return (('0'+'1')*('0'+'1')*('0'+'1')
            | {'0'*'1'*'0', '0'*'1'*'1', '1'*'0'*'0', '1'*'0'*'1'} >> {-'0'*'1'*'0', -'0'*'1'*'1', -'1'*'0'*'0', -'1'*'0'*'1'}
            | {'0'+'1','0'-'1'}*{'0'+'1','0'-'1'}*{'0'+'1','0'-'1'} >> {'0','1'}*{'0','1'}*{'0','1'}
            | ({'0','1'}*{'0','1'}*{'0','1'}).measure)

histogram(kernel())
